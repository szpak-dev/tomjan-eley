---
import { getMetadata, findCategories } from "../../content/repository";
import type { Lang } from "../../content/types";
import { languages, ui } from "../../i18n/ui";
import { useTranslations } from "../../i18n/utils";

export async function getStaticPaths() {
    return Object.keys(languages).map((lang) => ({ params: { lang } }));
}

const { lang } = Astro.params;
const t = useTranslations(lang as keyof typeof ui);

const categories = await findCategories(lang as Lang);
const metadata = await getMetadata('splashscreen', lang as Lang);

import SplashScreen from "../../layouts/SplashScreen.astro";
---

<SplashScreen 
    meta={metadata} 
    categories={categories} 
/>
