---
import { repository } from "../../content";
import SplashScreen from "../../layouts/SplashScreen.astro";

export async function getStaticPaths() {
  const languages = await repository.getLanguages();
  return languages.map(({ code }) => ({ params: { lang: code } }));
}

const currentLang = Astro.currentLocale as string;
const categories = await repository.findCategories(currentLang);
const metadata = await repository.getMetadata("splashscreen", currentLang);
---

<SplashScreen meta={metadata} categories={categories} />
